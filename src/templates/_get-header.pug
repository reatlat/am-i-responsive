//- Helpers
mixin getHead(language)
    if noindex
        meta(name="robots", content="noindex")

    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    //-meta(name='viewport', content='width=device-width')

    title= locales[language].meta.title
    meta(name='description', content=locales[language].meta.description)
    meta(name='keywords', content=locales[language].meta.keywords)
    link(rel="canonical", href=pageURL + '/' + (language == 'en' ? '' : language + '/'))
    //- add hreflang links

    //- Favicons generated by https://realfavicongenerator.net
    link(rel='apple-touch-icon', sizes='180x180', href=pageURL + '/assets/favicons/apple-touch-icon.png')
    link(rel='icon', type='image/png', sizes='32x32', href=pageURL + '/assets/favicons/favicon-32x32.png')
    link(rel='icon', type='image/png', sizes='16x16', href=pageURL + '/assets/favicons/favicon-16x16.png')
    link(rel='manifest', href=pageURL + '/assets/favicons/site.webmanifest')
    link(rel='mask-icon', href=pageURL + '/assets/favicons/safari-pinned-tab.svg', color='#2196f3')
    meta(name='msapplication-TileColor', content='#ffc40d')
    meta(name='theme-color', content='#2196f3')

    //- Opengraph metas
    meta(property='og:image:height', content='630')
    meta(property='og:image:width', content='1200')
    meta(property='og:title', content=locales[language].meta.title)
    meta(property='og:description', content=locales[language].meta.description)
    meta(property='og:url', content=pageURL + '/')
    meta(property='og:image', content=pageURL + '/asstes/images/og-image.jpg')

    //- load fonts and stylesheets
    //-link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css')
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Material+Icons|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Lato:100,100i,300,300i,400,400i,700,700i,900,900i')
    link(rel='stylesheet', href='https://code.getmdl.io/1.3.0/material.blue-red.min.css')
    link(rel='stylesheet', href=pageURL + '/assets/css/styles.min.css')

    //- fallback for Microsoft IE :)
    .
        <!--[if lt IE 9]>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    //- Global site tag (gtag.js) - Google Analytics
    script(async, src="https://www.googletagmanager.com/gtag/js?id=" + googleTagManagerID)
    script(type='text/javascript').
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '#{googleTagManagerID}');

    //- AddThis ID
        @link https://www.addthis.com/academy/the-addthis_share-variable/
        @link https://www.addthis.com/academy/the-addthis_config-variable/
    script(type='text/javascript').
        var addthis_share = addthis_share || {};
            addthis_share.title = window.document.title;
            addthis_share.url = window.location.href;
            addthis_share.media = "#{pageURL}/asstes/images/og-image.jpg";
        var addthis_config = {
            'pubid': '#{addThisPubId}',
            'ui_language' : '#{language}',
            'data_ga_property' : '#{googleTagManagerID}',
            'data_ga_social' : true
        };

    //- Discus config
        @link https://disqus.com/admin/universalcode/#configuration-variables
    script(type = 'text/javascript').
        var disqus_config = function () {
            this.page.url = "#{pageURL}";
            this.page.identifier = "#{pageUUID}";
            this.page.language = "#{language}";
        };

    //- Mdl popup messages
    script(type = 'text/javascript').
        window.ami_config = {
            "information" : {
                "title" : "!{locales[language].popup.information.title}",
                "content" : "!{locales[language].popup.information.content}"
            },
            "action" : {
                "title" : "!{locales[language].popup.action.title}",
                "negative_title" : "!{locales[language].popup.action.negative}",
                "positive_title" : "!{locales[language].popup.action.positive}",
                "content" : "!{locales[language].popup.action.content}"
            },
        };
