"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(i,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}}();!function(r){r.fn.extend({donetyping:function(t,e){e=e||1e3;var o,a=function(i){o&&(o=null,t.call(i))};return this.each(function(i,t){var n=r(t);n.is(":input")&&n.on("keyup keypress paste",function(i){"keyup"==i.type&&8!=i.keyCode||(o&&clearTimeout(o),o=setTimeout(function(){a(t)},e))}).on("blur",function(){a(t)})})}});var i=function(){function e(i){var t=i.debug,n=void 0!==t&&t;_classCallCheck(this,e),this.debug=n}return _createClass(e,[{key:"_init",value:function(){this._debugLog("_init() =>",this),this._initTriggers(),this._initDraggable()}},{key:"_debugLog",value:function(){if(this.debug){for(var i,t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];(i=console).log.apply(i,["ðŸ¦„ AMI:"].concat(n))}}},{key:"_initTriggers",value:function(){if(this._debugLog("_initTriggers()"),r("#ami-share-buttons").on("click",function(i){r(".addthis_toolbox_wrapper").toggleClass("active")}),r("#domain").donetyping(function(){window.AMI._debugLog("donetiping");var i=window.AMI._checkUrl(r("#domain").val());window.history.pushState(null,null,location.origin+"/?url="+i),window.addthis_share.url=window.location.href,window.addthis_share.title=window.document.title+" - "+i,window.addthis.toolbox(".addthis_toolbox"),r("iframe").attr("src",i)},1e3),this._GET("url")){window.AMI._debugLog("Use URL params");var i=window.AMI._checkUrl(this._GET("url"));r("#domain-input-wrapper").addClass("is-dirty"),r("#domain").val(i),r("iframe").attr("src",i)}}},{key:"_checkUrl",value:function(i){return i.match(/^[a-zA-Z]+:\/\//)||(i="http://"+i,r("#domain").val(i)),i}},{key:"_initDraggable",value:function(){var n=3;r(".desktop,.laptop,.tablet,.mobile").draggable({start:function(i,t){r(this).css("z-index",n++)}}),r(".display div").click(function(){r(this).addClass("top").removeClass("bottom"),r(this).siblings().removeClass("top").addClass("bottom"),r(this).css("z-index",n++)})}},{key:"_GET",value:function(i,t){t=t||window.location.href,this._debugLog("_GET() => ",i,t);var e={};return t.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(i,t,n){e[t]=void 0!==n?n:""}),i?e[i]?e[i]:null:e}}]),e}();window.AMI=new i({debug:!0}),window.AMI._init()}(jQuery);
//# sourceMappingURL=scripts.min.js.map